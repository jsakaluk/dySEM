<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="dySEM">
<title>Invariance Testing with Potentially Indistinguishable Dyads: Rationale and Practices for a More Logical and Inclusive Testing Sequence • dySEM</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Invariance Testing with Potentially Indistinguishable Dyads: Rationale and Practices for a More Logical and Inclusive Testing Sequence">
<meta property="og:description" content="dySEM">
<meta property="og:image" content="https://jsakaluk.github.io/dySEM/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">dySEM</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/dySEM.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/apim.html">The Latent Actor-Partner Interdependence Model: Rationale, Empirical Trade-offs, and Analytic Resources</a>
    <a class="dropdown-item" href="../articles/invariance.html">Invariance Testing with Potentially Indistinguishable Dyads: Rationale and Practices for a More Logical and Inclusive Testing Sequence</a>
    <a class="dropdown-item" href="../articles/varnames.html">Anatomy of a Variable Name</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/jsakaluk/dySEM/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Invariance Testing with Potentially Indistinguishable Dyads: Rationale and Practices for a More Logical and Inclusive Testing Sequence</h1>
                        <h4 data-toc-skip class="author">John K.
Sakaluk</h4>
            
            <h4 data-toc-skip class="date">12/12/23</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/jsakaluk/dySEM/blob/HEAD/vignettes/articles/invariance.Rmd" class="external-link"><code>vignettes/articles/invariance.Rmd</code></a></small>
      <div class="d-none name"><code>invariance.Rmd</code></div>
    </div>

    
    
<p><em>The following resource was made in advance of the 2023 SPSP Close
Relationships Preconference, and is part of a working paper. Please cite
the following if you are using these materials:</em></p>
<ul>
<li>Sakaluk, J. K. (preprint). Invariance testing with potentially
indistinguishable dyads: Practices and rationale for a more logical and
inclusive testing sequence. <a href="https://jsakaluk.github.io/dySEM/articles/invariance.html" class="uri">https://jsakaluk.github.io/dySEM/articles/invariance.html</a>
</li>
</ul>
<div class="section level2">
<h2 id="tldr">tl;dr:<a class="anchor" aria-label="anchor" href="#tldr"></a>
</h2>
<p>The <strong>normative invariance-testing ritual</strong>, including
for dyadic measurement models (<a href="https://onlinelibrary.wiley.com/doi/abs/10.1111/pere.12341" class="external-link">Sakaluk
et al., 2021</a>), involves first fitting a <em>configurally
invariant</em> model (i.e., all measurement model parameters free to
vary between partners). A <em>loading-invariant</em> model (i.e.,
loadings constrained to equivalence between partners) is then fit and
compared against the configurally invariant model; an
<em>intercept-invariant</em> model (loadings and intercepts constrained
to equivalence between partners) is then fit and compared against the
loading-invariant model, and so on. The final model is determined as the
most constrained model that does not appreciably ruin model fit (e.g.,
producing a significant nested-model comparison, producing a decrease in
some other absolute/relative model fit index beyond a particular
threshold, etc.).</p>
<p>This ritual can be consider flawed and/or problematic for at least
three reasons:</p>
<ol style="list-style-type: decimal">
<li>The ritual begins with the specification of–and testing against–the
<em>least</em> parsimonious dyadic measurement model, as opposed to the
<em>most</em> parsimonious.</li>
<li>The ritual involves the inverting of traditional null-hypothesis
significance testing logic (under most circumstances, such that
noninvariance is considered undesirable)</li>
<li>The ritual tacitly promotes a mindset where “distinguishability is
the default”, at the expense of indistinguishable dyad types (e.g.,
same-sex and/or same-gender couples) that have been historically
excluded from relationship science</li>
</ol>
</div>
<div class="section level2">
<h2 id="a-lengthier-explanation">A Lengthier Explanation<a class="anchor" aria-label="anchor" href="#a-lengthier-explanation"></a>
</h2>
<p><em>TBD</em></p>
</div>
<div class="section level2">
<h2 id="a-more-logical-and-inclusive-testing-sequence">A More Logical and Inclusive Testing Sequence<a class="anchor" aria-label="anchor" href="#a-more-logical-and-inclusive-testing-sequence"></a>
</h2>
<div class="section level3">
<h3 id="measurement-level-vs--structural-level-indistinguishability">Measurement-Level vs. Structural-Level Indistinguishability<a class="anchor" aria-label="anchor" href="#measurement-level-vs--structural-level-indistinguishability"></a>
</h3>
<p>In structural equation modeling with latent variables, a distinction
is typically made between the <em>measurement model</em> and the
<em>structural model</em>. The measurement model includes all parameter
types that govern the indicator variables (e.g., questionnaire items)
and their statistical relationships to the latent variable(s) being
modeled. These include:</p>
<ul>
<li>item <em>intercepts</em> (contained in the <span class="math inline">\(\tau\)</span> matrix)</li>
<li>item <em>loadings</em>, and (contained in the <span class="math inline">\(\lambda\)</span> matrix)</li>
<li>item <em>residual variances</em> (contained in the <span class="math inline">\(\theta\)</span> matrix)</li>
</ul>
<p>Indeed, these parameters are at work in the general-linear-model-like
equation for reproducing item responses based on a specified measurement
model. Just as in a bivariate regression, a person’s (i) score on an
outcome variable (Y) can be produced from an intercept (i.e., expected
score on Y when X = 0), slope (i.e., the expected change in Y for every
one-unit increase in X), their score on predictor variable X, and
leftover residual variance (i.e, the difference between their observed
and predicted score on Y)…:</p>
<p><span class="math inline">\(Y_i = b_0 + b_1X_i +
\epsilon_i\)</span></p>
<p>…so too does the reflective latent variable model suggest that a
person’s (i) response to a given item (e.g., sat.g.1.1) can be produced
from the item intercept (i.e., expected score on sat.g.1.1 when their
standing on the latent variable is 0), the item loading (i.e., the
expected change in sat.g.1.1 for every one-unit increase in the latent
variable), their score the latent variable, and leftover residual
variance (i.e, variance in sat.g.1.1 unaccounted for by the latent
variable)…</p>
<p><span class="math inline">\(sat.g.1.1_i = \tau_1 +
\lambda_{11}\zeta_i + \theta_{11}\)</span></p>
<p>The only other major conceptual distinction from your generic GLM is
that this equation plays out for each and every item in the measurement
model,</p>
<p><span class="math inline">\(sat.g.1.2_i = \tau_2 +
\lambda_{21}\zeta_i + \theta_{22}\)</span></p>
<p><span class="math inline">\(sat.g.1.3_i = \tau_3 +
\lambda_{31}\zeta_i + \theta_{33}\)</span></p>
<p><span class="math inline">\(sat.g.1.4_i = \tau_4 +
\lambda_{41}\zeta_i + \theta_{44}\)</span></p>
<p>… etc.</p>
<p>The structural model, meanwhile, includes all parameter types that
govern statistical properties of the latent variables themselves, and
their relationships to one another. These include:</p>
<ul>
<li>
<em>latent variances</em> (contained in the <span class="math inline">\(\Psi\)</span> matrix)</li>
<li>
<em>latent means</em> (contained in the <span class="math inline">\(A\)</span> matrix)</li>
<li>
<em>latent covariances</em>/<em>latent correlations</em> (also
contained in the <span class="math inline">\(\Psi\)</span> matrix),
and</li>
<li>
<em>latent slopes</em> (contained in the <span class="math inline">\(B\)</span> matrix)</li>
</ul>
<p>When using the term “indistinguishable” in the context of structural
equation modeling with latent variables, we therefore need to be very
careful and precise in conveying to what the term “indistinguishable” is
meant to apply. Most uses of the term “indistinguishable” in the
literature (e.g., with an APIM specified in MLM, or when using SEM
without latent variables) indicate that researchers have constrained
parameters in the structural model to equivalence between partners (and
adopted an analytic strategy that does not appraise what is going on at
the measurement model level). With invariance testing, however, we are
strictly concerned with what’s going on at the measurement model
level.</p>
<p>I therefore propose we use the term <strong>measurement
indistinguishability</strong> when we are referring to dyadic models
with indistinguishable measurement model parameters, <strong>structural
indistinguishability</strong> when we are referring to dyadic models
with indistinguishable structural model parameters, and
<strong>measurement and structural indistinguishability</strong> when we
are referring to dyadic models with both indistinguishable measurement
and structural model parameters. Yet another way to be specific is to
reserve the term <strong>“invariance”</strong> testing for questions of
indistinguishability within the measurement model, while using
<strong>“equivalence”</strong> testing for questions of
indistinguishability within the structural model</p>
</div>
<div class="section level3">
<h3 id="meet-your-dyadic-measurement-invariance-models">Meet Your Dyadic Measurement Invariance Models<a class="anchor" aria-label="anchor" href="#meet-your-dyadic-measurement-invariance-models"></a>
</h3>
<div class="section level4">
<h4 id="a-disclaimer-and-words-of-caution">A Disclaimer and Words of Caution<a class="anchor" aria-label="anchor" href="#a-disclaimer-and-words-of-caution"></a>
</h4>
<p><strong>Note</strong>: the following models use a “fixed-factor”
scale-setting approach, whereby the latent variance is fixed to 1 for at
least one dyad member (both must be fixed in the configural model), and
the latent mean is fixed to 0 for at least one dyad member (both must be
fixed in the configural and loading models).</p>
<p>Scale-setting method choice won’t impact model fit and therefore
won’t affect model comparisons among invariance models, but the choice
does impact parameter estimation and significance testing. Prior
methodological research suggests that the “marker variable” method
(fixing a factor loading to 1 for each latent variable; the default in
most software) can lead you astray in determining which item(s) are
specifically responsible for noninvariance, so I
<strong>strongly</strong> recommend you adopt fixed-factor as your
default scale-setting approach, especially for invariance testing.</p>
</div>
<div class="section level4">
<h4 id="the-new-proposed-sequence">The New Proposed Sequence<a class="anchor" aria-label="anchor" href="#the-new-proposed-sequence"></a>
</h4>
<p>Instead of the normative invariance-testing ritual, I propose
flipping the sequencing of dyadic invariance testing, such that
researchers begin by specifying a measurement-level indistinguishable
(i.e., residual-invariant) dyadic measurement model as the initial
baseline model, with loadings, intercepts, and residual variances
equated between partners:</p>
<p><img src="invariance_files/figure-html/resid_fig-1.png" width="700"></p>
<p>Researchers would then compare the residual-invariant model against
the incrementally less-parsimonious intercept-invariant model (with
freely estimated residual variances):</p>
<p><img src="invariance_files/figure-html/intercept_fig-1.png" width="700"></p>
<p>If the residual-invariant model was rejected in favour of the
intercept-invariant model, the intercept-invariant model would become
the new baseline model. Researchers would then compare it against the
incrementally less-parsimonious loading-invariant model (with freely
estimated residual variances and intercepts):</p>
<p><img src="invariance_files/figure-html/loading_fig-1.png" width="700"></p>
<p>If the intercept-invariant model was rejected in favour of the
loading-invariant model, the loading-invariant model would become the
new baseline model. Researchers would then compare it against the
incrementally least-parsimonious configurally invariant model (with
freely estimated residual variances, intercepts, and loadings):</p>
<p><img src="invariance_files/figure-html/config_fig-1.png" width="700"></p>
<p>If the loading-invariant model was rejected in favour of the
configurally invariant model, the configurally invariant model would be
the best-supported measurement model. Otherwise, the best supported
model would be the baseline model which was</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="example-data-and-scraping-variable-names">Example Data and Scraping Variable Names<a class="anchor" aria-label="anchor" href="#example-data-and-scraping-variable-names"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jsakaluk/dySEM" class="external-link">dySEM</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lavaan.ugent.be" class="external-link">lavaan</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/SachaEpskamp/semPlot" class="external-link">semPlot</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="va">commitmentQ</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "sat.g.1_1" "sat.g.1_2" "sat.g.1_3" "sat.g.1_4" "sat.g.1_5" "com.1_1"  </span></span>
<span><span class="co">#&gt;  [7] "com.1_2"   "com.1_3"   "com.1_4"   "com.1_5"   "sat.g.2_1" "sat.g.2_2"</span></span>
<span><span class="co">#&gt; [13] "sat.g.2_3" "sat.g.2_4" "sat.g.2_5" "com.2_1"   "com.2_2"   "com.2_3"  </span></span>
<span><span class="co">#&gt; [19] "com.2_4"   "com.2_5"</span></span></code></pre></div>
<p>The example dataset we are using contains items assessing
relationship satisfaction and commitment (five items each, for both
partners): we will just focus on the satisfaction items. As with any use
of dySEM, we begin by scraping the variables which we are attempting to
model. We first need to identify the repetitious “naming pattern” that
is applied to the satisfaction items (see (here)[<a href="https://jsakaluk.github.io/dySEM/articles/varnames.html" class="uri">https://jsakaluk.github.io/dySEM/articles/varnames.html</a>]
if you need a refresher on these). We see the items correspond to a
“Stem” (sat.g), “Partner” (“1” or “2”), “Item number” (1-5) or “spi”
ordering, in which “.” is used to separate stem from partner, and “_” is
used to separate partner from item number. We assign this to an object
(arbitrarily) called “dvn” (as I think of this list as capturing
information about (d)yad (v)ariable (n)ames):</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dvn</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/scrapeVarCross.html">scrapeVarCross</a></span><span class="op">(</span>dat <span class="op">=</span> <span class="va">commitmentQ</span>, </span>
<span>                      x_order <span class="op">=</span> <span class="st">"spi"</span>, x_stem <span class="op">=</span> <span class="st">"sat.g"</span>, x_delim1 <span class="op">=</span> <span class="st">"."</span>, x_delim2<span class="op">=</span><span class="st">"_"</span>, </span>
<span>                      distinguish_1<span class="op">=</span><span class="st">"1"</span>, distinguish_2<span class="op">=</span><span class="st">"2"</span><span class="op">)</span></span>
<span><span class="va">dvn</span></span>
<span><span class="co">#&gt; $p1xvarnames</span></span>
<span><span class="co">#&gt; [1] "sat.g.1_1" "sat.g.1_2" "sat.g.1_3" "sat.g.1_4" "sat.g.1_5"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $p2xvarnames</span></span>
<span><span class="co">#&gt; [1] "sat.g.2_1" "sat.g.2_2" "sat.g.2_3" "sat.g.2_4" "sat.g.2_5"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $xindper</span></span>
<span><span class="co">#&gt; [1] 5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $dist1</span></span>
<span><span class="co">#&gt; [1] "1"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $dist2</span></span>
<span><span class="co">#&gt; [1] "2"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $indnum</span></span>
<span><span class="co">#&gt; [1] 10</span></span></code></pre></div>
<p>We can visually confirm that the list contains:</p>
<ul>
<li>$p1xvarnames: the five variable names for Partner 1’s satisfaction
item responses</li>
<li>$p2xvarnames: the five variable names for Partner 2’s satisfaction
item responses</li>
<li>$xindper: the number of items for Latent X (in this case,
Satisfaction) for each partner</li>
<li>$dist1: the distinguishing character for the first partner</li>
<li>$dist2: the distinguishing character for the second partner</li>
<li>$indnum: the total number of items to be modeled</li>
</ul>
<p>These pieces of information are all that is needed for dySEM to
automate scripting dyadic CFA models with a variety of specification
options.</p>
</div>
<div class="section level2">
<h2 id="example-analysis">Example Analysis<a class="anchor" aria-label="anchor" href="#example-analysis"></a>
</h2>
<div class="section level3">
<h3 id="model-scripting">Model Scripting<a class="anchor" aria-label="anchor" href="#model-scripting"></a>
</h3>
<p>dySEM makes the rest of the process of testing dyadic invariance
straightforward. We first need to use dySEM scripter functions to
generate the correct code for lavaan to fit our (1) residual-invariant,
(2) intercept-invariant, (3) loading-invariant, and (4) configurally
invariance dyadic CFA models. Each model requires one use of
scriptCFA(), which needs to be provided the dvn list we just created
with scrapeVarCross(), an arbitrary name for the latent variable being
modeled, the type of invariance to impose in the the “model” argument.
Critically, instead of starting with configural dyadic invariance (and
proceeding to more parsimonious/restrictive models), I recommend
starting with the most parsimonious/restrictive model (full
measurement-level indistinguishability), and then testing whether more
complicated models are empirically warranted.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sat.residual.script</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/scriptCFA.html">scriptCFA</a></span><span class="op">(</span><span class="va">dvn</span>, lvname <span class="op">=</span> <span class="st">"Sat"</span>, constr_dy_meas <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"loadings"</span>, <span class="st">"intercepts"</span>, <span class="st">"residuals"</span><span class="op">)</span>, constr_dy_struct <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span>
<span><span class="va">sat.intercept.script</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/scriptCFA.html">scriptCFA</a></span><span class="op">(</span><span class="va">dvn</span>, lvname <span class="op">=</span> <span class="st">"Sat"</span>, constr_dy_meas <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"loadings"</span>, <span class="st">"intercepts"</span><span class="op">)</span>, constr_dy_struct <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span>
<span><span class="va">sat.loading.script</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/scriptCFA.html">scriptCFA</a></span><span class="op">(</span><span class="va">dvn</span>, lvname <span class="op">=</span> <span class="st">"Sat"</span>, constr_dy_meas <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"loadings"</span><span class="op">)</span>, constr_dy_struct <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span>
<span><span class="va">sat.config.script</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/scriptCFA.html">scriptCFA</a></span><span class="op">(</span><span class="va">dvn</span>, lvname <span class="op">=</span> <span class="st">"Sat"</span>, constr_dy_meas <span class="op">=</span> <span class="st">"none"</span>, constr_dy_struct <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span></code></pre></div>
<p>If you return the output of scriptCFA(), it doesn’t look particularly
nice:</p>
<pre><code><span><span class="co">#&gt; [1] "#Measurement Model\n\n#Loadings\nSat1=~NA*sat.g.1_1+lx1*sat.g.1_1+lx2*sat.g.1_2+lx3*sat.g.1_3+lx4*sat.g.1_4+lx5*sat.g.1_5\nSat2=~NA*sat.g.2_1+lx1*sat.g.2_1+lx2*sat.g.2_2+lx3*sat.g.2_3+lx4*sat.g.2_4+lx5*sat.g.2_5\n\n#Intercepts\nsat.g.1_1 ~ tx1*1\nsat.g.1_2 ~ tx2*1\nsat.g.1_3 ~ tx3*1\nsat.g.1_4 ~ tx4*1\nsat.g.1_5 ~ tx5*1\n\nsat.g.2_1 ~ tx1*1\nsat.g.2_2 ~ tx2*1\nsat.g.2_3 ~ tx3*1\nsat.g.2_4 ~ tx4*1\nsat.g.2_5 ~ tx5*1\n\n#Residual Variances\nsat.g.1_1 ~~ thx1*sat.g.1_1\nsat.g.1_2 ~~ thx2*sat.g.1_2\nsat.g.1_3 ~~ thx3*sat.g.1_3\nsat.g.1_4 ~~ thx4*sat.g.1_4\nsat.g.1_5 ~~ thx5*sat.g.1_5\n\nsat.g.2_1 ~~ thx1*sat.g.2_1\nsat.g.2_2 ~~ thx2*sat.g.2_2\nsat.g.2_3 ~~ thx3*sat.g.2_3\nsat.g.2_4 ~~ thx4*sat.g.2_4\nsat.g.2_5 ~~ thx5*sat.g.2_5\n\n#Residual Covariances\nsat.g.1_1 ~~ sat.g.2_1\nsat.g.1_2 ~~ sat.g.2_2\nsat.g.1_3 ~~ sat.g.2_3\nsat.g.1_4 ~~ sat.g.2_4\nsat.g.1_5 ~~ sat.g.2_5\n\n#Structural Model\n\n#Latent (Co)Variances\nSat1 ~~ 1*Sat1\nSat2 ~~ NA*Sat2\nSat1 ~~ Sat2\n\n#Latent Means\nSat1 ~ 0*1\nSat2 ~ NA*1"</span></span></code></pre>
<p>Rest assured, <code>lavaan</code> can make sense of this applesauce;
all the required text is there, and with a light touch of the
concatenate function (which will parse the line-breaks in the text of
the script), you can see a friendly human-readable version of what
scriptCFA() generated:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">sat.residual.script</span><span class="op">)</span></span>
<span><span class="co">#&gt; #Measurement Model</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; #Loadings</span></span>
<span><span class="co">#&gt; Sat1=~NA*sat.g.1_1+lx1*sat.g.1_1+lx2*sat.g.1_2+lx3*sat.g.1_3+lx4*sat.g.1_4+lx5*sat.g.1_5</span></span>
<span><span class="co">#&gt; Sat2=~NA*sat.g.2_1+lx1*sat.g.2_1+lx2*sat.g.2_2+lx3*sat.g.2_3+lx4*sat.g.2_4+lx5*sat.g.2_5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; #Intercepts</span></span>
<span><span class="co">#&gt; sat.g.1_1 ~ tx1*1</span></span>
<span><span class="co">#&gt; sat.g.1_2 ~ tx2*1</span></span>
<span><span class="co">#&gt; sat.g.1_3 ~ tx3*1</span></span>
<span><span class="co">#&gt; sat.g.1_4 ~ tx4*1</span></span>
<span><span class="co">#&gt; sat.g.1_5 ~ tx5*1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; sat.g.2_1 ~ tx1*1</span></span>
<span><span class="co">#&gt; sat.g.2_2 ~ tx2*1</span></span>
<span><span class="co">#&gt; sat.g.2_3 ~ tx3*1</span></span>
<span><span class="co">#&gt; sat.g.2_4 ~ tx4*1</span></span>
<span><span class="co">#&gt; sat.g.2_5 ~ tx5*1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; #Residual Variances</span></span>
<span><span class="co">#&gt; sat.g.1_1 ~~ thx1*sat.g.1_1</span></span>
<span><span class="co">#&gt; sat.g.1_2 ~~ thx2*sat.g.1_2</span></span>
<span><span class="co">#&gt; sat.g.1_3 ~~ thx3*sat.g.1_3</span></span>
<span><span class="co">#&gt; sat.g.1_4 ~~ thx4*sat.g.1_4</span></span>
<span><span class="co">#&gt; sat.g.1_5 ~~ thx5*sat.g.1_5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; sat.g.2_1 ~~ thx1*sat.g.2_1</span></span>
<span><span class="co">#&gt; sat.g.2_2 ~~ thx2*sat.g.2_2</span></span>
<span><span class="co">#&gt; sat.g.2_3 ~~ thx3*sat.g.2_3</span></span>
<span><span class="co">#&gt; sat.g.2_4 ~~ thx4*sat.g.2_4</span></span>
<span><span class="co">#&gt; sat.g.2_5 ~~ thx5*sat.g.2_5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; #Residual Covariances</span></span>
<span><span class="co">#&gt; sat.g.1_1 ~~ sat.g.2_1</span></span>
<span><span class="co">#&gt; sat.g.1_2 ~~ sat.g.2_2</span></span>
<span><span class="co">#&gt; sat.g.1_3 ~~ sat.g.2_3</span></span>
<span><span class="co">#&gt; sat.g.1_4 ~~ sat.g.2_4</span></span>
<span><span class="co">#&gt; sat.g.1_5 ~~ sat.g.2_5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; #Structural Model</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; #Latent (Co)Variances</span></span>
<span><span class="co">#&gt; Sat1 ~~ 1*Sat1</span></span>
<span><span class="co">#&gt; Sat2 ~~ NA*Sat2</span></span>
<span><span class="co">#&gt; Sat1 ~~ Sat2</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; #Latent Means</span></span>
<span><span class="co">#&gt; Sat1 ~ 0*1</span></span>
<span><span class="co">#&gt; Sat2 ~ NA*1</span></span></code></pre></div>
<p>We can now immediately pass all of these models to
<code>lavaan</code> for fitting.</p>
</div>
<div class="section level3">
<h3 id="model-fitting">Model Fitting<a class="anchor" aria-label="anchor" href="#model-fitting"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sat.residual.fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/cfa.html" class="external-link">cfa</a></span><span class="op">(</span><span class="va">sat.residual.script</span>, </span>
<span>                                 data <span class="op">=</span> <span class="va">commitmentQ</span>, </span>
<span>                                 std.lv <span class="op">=</span> <span class="cn">FALSE</span>, auto.fix.first<span class="op">=</span> <span class="cn">FALSE</span>, meanstructure <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">sat.intercept.fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/cfa.html" class="external-link">cfa</a></span><span class="op">(</span><span class="va">sat.intercept.script</span>, </span>
<span>                                 data <span class="op">=</span> <span class="va">commitmentQ</span>, </span>
<span>                                 std.lv <span class="op">=</span> <span class="cn">FALSE</span>, auto.fix.first<span class="op">=</span> <span class="cn">FALSE</span>, meanstructure <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">sat.loading.fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/cfa.html" class="external-link">cfa</a></span><span class="op">(</span><span class="va">sat.loading.script</span>, </span>
<span>                                 data <span class="op">=</span> <span class="va">commitmentQ</span>, </span>
<span>                                 std.lv <span class="op">=</span> <span class="cn">FALSE</span>, auto.fix.first<span class="op">=</span> <span class="cn">FALSE</span>, meanstructure <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">sat.config.fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lavaan/man/cfa.html" class="external-link">cfa</a></span><span class="op">(</span><span class="va">sat.config.script</span>, </span>
<span>                                 data <span class="op">=</span> <span class="va">commitmentQ</span>, </span>
<span>                                 std.lv <span class="op">=</span> <span class="cn">FALSE</span>, auto.fix.first<span class="op">=</span> <span class="cn">FALSE</span>, meanstructure <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="inspecting-output">Inspecting Output<a class="anchor" aria-label="anchor" href="#inspecting-output"></a>
</h3>
<p>And we can expeditiously compare all the models (sequentially, from
most parsimonious to least) at once:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/anova.html" class="external-link">anova</a></span><span class="op">(</span><span class="va">sat.residual.fit</span>, <span class="va">sat.intercept.fit</span>, <span class="va">sat.loading.fit</span>, <span class="va">sat.config.fit</span><span class="op">)</span></span>
<span><span class="va">out</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="op">-</span><span class="va">out</span><span class="op">$</span><span class="va">Df</span><span class="op">)</span>,<span class="op">]</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Chi-Squared Difference Test</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;                   Df    AIC    BIC  Chisq Chisq diff    RMSEA Df diff</span></span>
<span><span class="co">#&gt; sat.residual.fit  42 3855.2 3918.3 78.842    18.5209 0.153345       5</span></span>
<span><span class="co">#&gt; sat.intercept.fit 37 3846.7 3923.5 60.321     1.5112 0.000000       4</span></span>
<span><span class="co">#&gt; sat.loading.fit   33 3853.1 3941.0 58.810     5.7841 0.062278       4</span></span>
<span><span class="co">#&gt; sat.config.fit    29 3855.4 3954.2 53.026                            </span></span>
<span><span class="co">#&gt;                   Pr(&gt;Chisq)   </span></span>
<span><span class="co">#&gt; sat.residual.fit     0.00236 **</span></span>
<span><span class="co">#&gt; sat.intercept.fit    0.82466   </span></span>
<span><span class="co">#&gt; sat.loading.fit      0.21586   </span></span>
<span><span class="co">#&gt; sat.config.fit                 </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="additional-considerations">Additional Considerations<a class="anchor" aria-label="anchor" href="#additional-considerations"></a>
</h2>
<div class="section level3">
<h3 id="traditional-dyadic-invariance-testing-evaluates-non-invariance-not-invariance">Traditional (Dyadic) Invariance Testing Evaluates Non-Invariance,
Not Invariance<a class="anchor" aria-label="anchor" href="#traditional-dyadic-invariance-testing-evaluates-non-invariance-not-invariance"></a>
</h3>
</div>
<div class="section level3">
<h3 id="identifying-and-specifying-a-partial-invariance-model">Identifying and Specifying A “Partial” Invariance Model<a class="anchor" aria-label="anchor" href="#identifying-and-specifying-a-partial-invariance-model"></a>
</h3>
</div>
<div class="section level3">
<h3 id="calculating-and-considering-the-magnitude-of-difference-in-measurement-model-parameter-estimates">Calculating and Considering the Magnitude of Difference in
Measurement Model Parameter Estimates<a class="anchor" aria-label="anchor" href="#calculating-and-considering-the-magnitude-of-difference-in-measurement-model-parameter-estimates"></a>
</h3>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by John Sakaluk, Omar Camanto.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
